<div class="relative mt-3 text-15">
  <base-avatar
    class="absolute top-0 left-0"
    [avatarUrl]="user.avatarUrl"
    [size]="30">
  </base-avatar>
  <div class="pl-10" *ngIf="comment">
    <div class="inline-block mr-3 mb-2 text-textDark font-medium">
      {{ comment.user.name }}
    </div>
    <div *ngIf="!createMode" class="inline-block pb-2 text-textDark text-sm">
      {{ comment.updatedAt | date: 'medium' }}
    </div>
    <div class="editing-area" *ngIf="createMode">
      <textarea
        #commentBoxRef
        hlmInput
        class="border border-secondary cursor-text select-none px-4 py-3 rounded-sm w-full"
        [formControl]="commentControl"
        placeholder="Add a comment"
        [rows]="2"
        cdkTextareaAutosize
        (click)="setCommentEdit(true)">
      </textarea>
      <div *ngIf="!isEditing" class="text-xs">
        <strong>Pro tip: </strong>press
        <span class="px-1 font-semibold bg-backgroundMedium">M</span> to comment
      </div>
      <div *ngIf="isEditing" class="flex pt-2 pb-4 items-center">
        <button hlmBtn [className]="'mr-2'" (click)="addComment()">Save</button>
        <button hlmBtn variant="ghost" (click)="cancelAddComment()">
          Cancel
        </button>
      </div>
    </div>
    <div *ngIf="!createMode" [innerHTML]="comment.body"></div>
  </div>
</div>
