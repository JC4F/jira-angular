<hlm-dialog-header>
  <h3 hlmDialogTitle>Create issue</h3>
</hlm-dialog-header>

<div class="px-8 py-5">
  <form [formGroup]="issueForm">
    <div class="form-group">
      <label class="label"> Issue type </label>
      <issue-type-select [control]="f.iss_type"></issue-type-select>
    </div>
    <div class="mt-3 form-group">
      <label class="label"> Issue priority </label>
      <issue-priority-select [control]="f.priority"></issue-priority-select>
    </div>
    <div class="mt-3 form-group">
      <label class="label"> Short summary </label>
      <input
        hlmInput
        class="form-input"
        formControlName="title"
        jAutofocus
        [timerDelay]="500" />
    </div>
    <div class="mt-3 form-group">
      <label class="label">Description</label>
      <quill-editor
        class="content-editor"
        [styles]="{ 'min-height': '120px' }"
        [modules]="editorOptions"
        formControlName="description"
        [placeholder]="''">
      </quill-editor>
    </div>
    <div class="mt-3 form-group">
      <label class="label"> Reporter </label>
      <issue-reporter-select
        [control]="f.reporterId"
        [users]="(reporterUsers$ | async) || []">
      </issue-reporter-select>
    </div>
    <div class="mt-3 form-group">
      <label class="label"> Assignees </label>
      <issue-assignees-select
        [control]="f.userIds"
        [users]="(assignees$ | async) || []">
      </issue-assignees-select>
    </div>
    <div class="mt-5 form-group text-right">
      <button
        hlmBtn
        className="btn-primary mr-2"
        type="submit"
        [disabled]="issueForm.invalid"
        (click)="submitForm()">
        Create Issue
      </button>
      <button hlmBtn className="btn-empty" (click)="cancel()">Cancel</button>
    </div>
  </form>
</div>
